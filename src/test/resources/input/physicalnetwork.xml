<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- 	Tabular output with some meta information, so use a dedicated format for this driven by a schema -->
<!-- 	we choose not to adopt the existing tabular w3 schema approach (http://www.w3.org/TR/tabular-metadata/) which also works with csv because their scheme is defined in json 
		and it does not cater for structured meta data unrelated to the columns apart from a general description (it seems) -->
<PLANit
	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	 xmlns:gml="http://www.opengis.net/gml"											
	 xsi:noNamespaceSchemaLocation="macroscopicsupplyinput.xsd">						<!-- use xs:import to import the gml namespace into the xsd to specify the reused elements -->
	<macroscopicnetwork>
		<configuration>
			<crs>WGS84</crs> 															<!-- string with the coordinate reference system, if not present cartesian coordinates are used where d1=1m -->
			<modes>																		<!-- if absent a single mode (car) with pcu 1 is assumed -->
				<mode id="1">															<!-- mandatory attributes, for referencing -->
					<pcu>1</pcu>														<!-- optional, default available -->
					<name>car</name>													<!-- optional -->
				</mode>										
			</modes>
			<linksegmenttypes>															<!-- optional, if not present a default link segment type is used for all links -->
				<linksegmenttype id="1">												<!-- mandatory attribute -->
					<name>local road</name>												<!-- optional -->
					<maxdensitylane>180</maxdensitylane>								<!-- optional, has default -->
					<capacitylane>2000</capacitylane>									<!-- optional, has default -->
					<mode ref="1">
						<maxspeed>40</maxspeed>											<!-- opional, should be lower or equal than link max speed when present -->
						<critspeed>35</critspeed>										<!-- opional, should be lower or equal than (mode specific) link max speed when present, represents the speed at capacity -->
					</mode>
				</linksegmenttype>
			</linksegmenttypes>			
		</configuration>
		<infrastructure>
			<nodes>
				<node id="1"> 															<!-- mandatory attribute -->
					<name>George Street roundabout</name> 								<!-- optional -->
	                <gml:Point ts=" "> 													<!-- mandatory -->
	                    <gml:pos>150.512796 -34.900145</gml:pos>
	                </gml:Point>														
				</node>
				<node id="2"> 
					<name>Broadway intersection</name>
					<gml:Point ts=","> 														<!-- mandatory -->
	                    <gml:pos>150.512527,-34.900319</gml:pos>
	                </gml:Point> 					
				</node>				
			</nodes>		
			<links>
				<link id="1">																<!-- optional since it can be derived from the two nodes -->
					<name>Broadway</name>													<!-- optional -->
					<linksegment id="1" dir="a_b" nodearef="1" nodebref="2" typeref="1">	<!-- mandatory attributes, except for id can be derived from direction, and typeref which if absent must mean there are no linksegmenttypes defined and we use default one-->
						<noflanes>2</noflanes>												<!-- optional, has default -->
						<maxspeed>50</maxspeed>												<!-- optional, has default -->						
					</linksegment>
					<linksegment id="2" dir="b_a" nodearef="1" nodebref="2" typeref="1">
						<noflanes>1</noflanes>
						<maxspeed>50</maxspeed>
					</linksegment>					
					<gml:LineString>														<!-- optional, indicating shape points on the link, in case the first and last coordinate do not match the node points, the node points are added to the string -->
						<gml:coordinates cs=" " ts=",">100,200 150,300</gml:coordinates>
					</gml:LineString>					
				</link>
			</links>
		</infrastructure>
	</macroscopicnetwork>
</PLANit>
